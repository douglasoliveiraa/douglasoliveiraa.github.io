function nanoGALLERY(){function a(){for(var a=Math.max(window.screen.width,window.screen.height),b=0,b=0;b<pc.length;b++)switch(pc[b].name){case"imageScale150":case"imageScale150Outside":xc=Math.max(xc,1.5);break;case"scale120":xc=Math.max(xc,1.2)}switch(b="auto"==ub.thumbnailHeight?ub.thumbnailWidth*xc:"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth?ub.thumbnailHeight*xc:Math.max(ub.thumbnailWidth,ub.thumbnailHeight)*xc,ub.kind){case"":v(kc.breadcrumbHome,"","","","","album","","0","-1"),0<ub.itemsBaseURL.length&&(ub.itemsBaseURL+="/"),void 0!==ub.items&&null!==ub.items?(m(),g(!1)||w(0,!1)):(a=jQuery(vb).children("a"),0<a.length?(n(a),g(!1)||w(0,!1)):nb("error: no image to process."));break;case"getsimple":return;case"flickr":for(ub.flickrSkipOriginal||(Bc.photoAvailableSizes.push(1e4),Bc.photoAvailableSizesStr.push("o")),c=0;c<Bc.thumbAvailableSizes.length&&(Bc.thumbSize=Bc.thumbAvailableSizesStr[c],!(b<Bc.thumbAvailableSizes[c]));c++);for(c=0;c<Bc.photoAvailableSizes.length&&(Bc.photoSize=c,!(a<=Bc.photoAvailableSizes[c]));c++);v(kc.breadcrumbHome,"","","","","album","",0<ub.photoset.length?ub.photoset:"0","-1"),o(0,!0,-1,!1);break;case"smugmug":for(c=0;c<Cc.photoAvailableSizes.length&&(Cc.thumbSize=c,!(b<=Cc.photoAvailableSizes[c]));c++);for(c=0;c<Cc.photoAvailableSizes.length&&(Cc.photoSize=c,!(a<=Cc.photoAvailableSizes[c]));c++);v(kc.breadcrumbHome,"","","","","album","","0","-1"),t(0,!0,-1,!1);break;default:for(var c=0;c<Ac.thumbAvailableSizes.length;c++)if(Ac.thumbSize=Ac.thumbAvailableSizes[c],b<Ac.thumbAvailableSizes[c]){0<=Ac.thumbAvailableSizesCropped.indexOf(" "+Ac.thumbAvailableSizes[c])&&(Ac.thumbSizeHack=!1);break}0<ub.album.length?(b=ub.album.indexOf("&authkey="),b>=0?(a=ub.album.substring(0,b),b=ub.album.substring(b),-1==b.indexOf("Gv1sRg")&&(b="&authkey=Gv1sRg"+b.substring(9)),v(kc.breadcrumbHome,"","","","","album","",a,"-1").customVars.authkey=b):v(kc.breadcrumbHome,"","","","","album","",ub.album,"-1")):v(kc.breadcrumbHome,"","","","","album","","0","-1"),r(0,!0,-1,!1)}jQuery(document).keyup(function(a){if(Mb)switch(a.keyCode){case 27:jb(!0);break;case 32:case 13:ab();break;case 38:case 39:case 33:bb();break;case 40:case 37:case 34:db()}}),jQuery(window).bind("hashchange",function(){ub.locationHash&&g(!0)})}function b(){if("undefined"!=typeof Hammer){var a=0;Hammer(xb[0],{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(b){switch(b.type){case"drag":a=b.gesture.deltaX,xb.css(25>Math.abs(a)?{left:0}:{left:a});break;case"release":b.stopPropagation(),25>Math.abs(a)&&xb.css({left:0}),-25>a&&(V(),L()),a>25&&(V(),M()),a=0}})}else new d(xb[0])}function c(a,b){jQuery(a).css({left:b})}function d(a){function b(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function d(){f&&(c(e,i-(g.x-h.x)),f=!1)}var e=a,f=!1,g=null,h=null,i=0;this.handleGestureStart=function(a){Mb||(a.preventDefault(),a.touches&&1<a.touches.length||(g=b(a),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0))))}.bind(this),this.handleGestureMove=function(a){a.preventDefault(),h=b(a),f||(f=!0,window.requestAnimFrame(d))}.bind(this),this.handleGestureEnd=function(a){a.preventDefault(),a.touches&&0<a.touches.length||(f=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==h?(i=0,g=null):(a=g.x-h.x,i-=a,-50>a&&(V(),M()),a>50&&(V(),L()),i=0,h=g=null,50>Math.abs(a)&&c(e,i)))}.bind(this),window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",this.handleGestureStart,!0):(e.addEventListener("touchstart",this.handleGestureStart,!0),e.addEventListener("mousedown",this.handleGestureStart,!0))}function e(){switch("fancybox"==ub.viewer&&"undefined"==typeof jQuery.fancybox&&(ub.viewer="internal",ob("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page.")),""!=ub.blackList&&($b=ub.blackList.toUpperCase().split("|")),""!=ub.whiteList&&(_b=ub.whiteList.toUpperCase().split("|")),""!=ub.albumList&&(ac=ub.albumList.toUpperCase().split("|")),("picasa"==ub.kind||"flickr"==ub.kind||"smugmug"==ub.kind)&&(ub.displayBreadcrumb=!0),void 0!==ub.photoset?0<ub.photoset.length&&(ub.displayBreadcrumb=!1):ub.photoset="",void 0!==ub.album?0<ub.album.length&&(ub.displayBreadcrumb=!1):ub.album="",void 0!==ub.gallery?0<ub.gallery.length&&(ub.displayBreadcrumb=!1):ub.gallery="",0<ub.maxWidth&&(jQuery(vb).css("maxWidth",+ub.maxWidth),jQuery(vb).css("margin-left","auto"),jQuery(vb).css("margin-right","auto")),"number"==Rc(ub.slideshowDelay)&&2e3<=ub.slideshowDelay?dc=ub.slideshowDelay:ob('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==Rc(ub.thumbnailDisplayInterval)&&0<=ub.thumbnailDisplayInterval?ec=ub.thumbnailDisplayInterval:ob('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==Rc(ub.thumbnailLazyLoadTreshold)&&0<=ub.thumbnailLazyLoadTreshold?fc=ub.thumbnailLazyLoadTreshold:ob('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==Rc(ub.paginationMaxItemsPerPage)&&0<=ub.paginationMaxItemsPerPage?nc=ub.paginationMaxItemsPerPage:ob('Parameter "paginationMaxItemsPerPage" must be an integer.'),"number"==Rc(ub.paginationMaxLinesPerPage)&&0<=ub.paginationMaxLinesPerPage?oc=ub.paginationMaxLinesPerPage:ob('Parameter "paginationMaxLinesPerPage" must be an integer.'),nc>0&&oc>0&&(nc=0),("auto"==ub.thumbnailHeight||"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&(0<ub.paginationMaxItemsPerPage&&ob('Parameters "paginationMaxItemsPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),0<ub.paginationMaxLinesPerPage&&ob('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),oc=nc=0,"undefined"==typeof imagesLoaded&&(ob('Parameter "thumbnailWidth/thumbnailHeight" on "auto" requires the jQuery plugin "imagesLoaded".'),"auto"==ub.thumbnailHeight&&(ub.thumbnailHeight=100),"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&(ub.thumbnailWidth=100)),Rc(ub.thumbnailHoverEffect)){case"string":for(var a=ub.thumbnailHoverEffect.split(","),b=0;b<a.length;b++)pc.push({name:a[b],duration:200,durationBack:200,easing:"swing",easingBack:"swing"});break;case"object":void 0!=ub.thumbnailHoverEffect.name&&pc.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},ub.thumbnailHoverEffect));break;case"array":for(b=0;b<ub.thumbnailHoverEffect.length;b++)void 0!=ub.thumbnailHoverEffect[b].name&&pc.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},ub.thumbnailHoverEffect[b]));break;case"null":break;default:nb('incorrect parameter for "thumbnailHoverEffect".')}for(b=0;b<pc.length;b++){switch(pc[b].name){case"slideUp":case"slideDown":case"slideLeft":case"slideRight":case"imageSlideUp":case"imageSlideDown":case"imageSlideLeft":case"imageSlideRight":case"labelAppear":case"labelAppear75":case"labelSlideDown":case"labelSlideUp":case"labelSlideUpTop":case"labelOpacity50":case"borderLighter":case"borderDarker":case"imageInvisible":case"imageOpacity50":case"descriptionSlideUp":case"labelSplitVert":case"labelSplit4":case"labelAppearSplitVert":case"labelAppearSplit4":case"imageSplitVert":case"imageSplit4":break;case"imageScale150":case"imageScale150Outside":case"scale120":case"overScale":case"overScaleOutside":case"scaleLabelOverImage":case"imageFlipHorizontal":case"imageFlipVertical":case"rotateCornerBR":case"rotateCornerBL":case"imageRotateCornerBR":case"imageRotateCornerBL":ic||ob('Parameter "'+pc[b].name+'" for "thumbnailHoverEffect" requires the additional jQuery plugin "Transit".');break;default:nb('Unknow parameter "'+pc[b].name+'" for "thumbnailHoverEffect".')}0==pc.length&&(ub.touchAnimation=!1)}}function f(){jc=(navigator.language||navigator.userLanguage).toUpperCase(),"undefined"===jc&&(jc="");var a=-("_"+jc).length;"object"==Rc(ub.i18n)&&Object.keys(ub.i18n).forEach(function(b){var c=b.substr(a);c=="_"+jc?kc[b.substr(0,b.length-c.length)]=ub.i18n[b]:kc[b]=ub.i18n[b]})}function g(a){if(!ub.locationHash)return!1;var b=null,c=null,b="#nanogallery/"+wb+"/",d=location.hash;if(d!=rc&&(""==d&&-1!=qc&&(rc="",D(0,!1,-1,!1)),0==d.indexOf(b))){var e=d.substring(b.length),f=e.indexOf("/"),g=d=-1,h=Qb.length;if(f>0){for(b=e.substring(0,f),c=e.substring(f+1),e=0;h>e;e++)if("image"==Qb[e].kind&&Qb[e].GetID()==c){g=e;break}}else b=e;for(e=0;h>e;e++)if("album"==Qb[e].kind&&Qb[e].GetID()==b){d=e;break}return null!==c?(a||(vc=d),""==ub.kind?Y(g):-1==g?D(d,!1,c,a):Y(g)):D(d,!1,-1,a),!0}}function h(){Qb=[];var a=v("dummy","//:0","//:0","","","image","","1","0"),b=Q(a,0,0,!1);Rb=b.outerWidth(!0)-b.width()+b.find(".imgContainer").outerWidth(!0)-b.find(".imgContainer").width(),Tb=b.outerWidth(!0)-b.width(),Ub=b.find(".imgContainer").outerWidth(!0)-b.find(".imgContainer").width(),Sb=b.outerHeight(!0)-b.height()+b.find(".imgContainer").outerHeight(!0)-b.find(".imgContainer").height(),b.outerHeight(!0),b.height(),Vb=b.find(".imgContainer").outerHeight(!0)-b.find(".imgContainer").height(),"auto"!=ub.thumbnailWidth&&"autoUpScale"!=ub.thumbnailWidth&&(Wb=b.find(".imgContainer").outerWidth(!0)),"auto"!=ub.thumbnailHeight&&(Yb=b.find(".imgContainer").outerHeight(!0)),Xb=b.outerWidth(!0),b.outerHeight(!0),Zb="album"==a.kind?b.find(".labelFolderTitle").outerHeight(!0):b.find(".labelImageTitle").outerHeight(!0),F(),wc.oldBorderColor=b.css("border-color"),(""==wc.oldBorderColor||null==wc.oldBorderColor||void 0==wc.oldBorderColor)&&(wc.oldBorderColor="#000"),wc.oldLabelOpacity=b.find(".labelImage").css("opacity"),a=jQuery.Color(b.find(".labelImage"),"backgroundColor"),wc.oldLabelRed=a.red(),wc.oldLabelGreen=a.green(),wc.oldLabelBlue=a.blue(),Qb=[]}function k(a,b){var c="";return c=""!=jc&&void 0!==a[b+"_"+jc]&&0<a[b+"_"+jc].length?a[b+"_"+jc]:a[b]}function l(a){return"%filename"==ub.thumbnailLabel.title?a.split("/").pop().replace("_"," "):"%filenameNoExt"==ub.thumbnailLabel.title?a.split("/").pop().split(".").shift().replace("_"," "):a}function m(){var a=!1;jQuery.each(ub.items,function(b,c){var d="",d=k(c,"title");void 0===d&&(d="");var e="",e=void 0!==c.srct&&0<c.srct.length?ub.itemsBaseURL+c.srct:ub.itemsBaseURL+c.src,f=ub.itemsBaseURL+c.src;""!=ub.thumbnailLabel.title&&(d=l(f));var g="",g=k(c,"description");void 0===g&&(g="");var h="";void 0!==c.destURL&&0<c.destURL.length&&(h=c.destURL);var i="",i=k(c,"tags");void 0===i&&(i="");var j=0;void 0!==c.albumID&&(j=c.albumID,a=!0);var m=null;void 0!==c.ID&&(m=c.ID);var n="image";void 0!==c.kind&&0<c.kind.length&&(n=c.kind),v(d,e,f,g,h,n,i,m,j)}),a&&(ub.displayBreadcrumb=!0);for(var b=Qb.length,c=0,d=0,e=0;b>e;e++){for(var f=d=c=0;b>f;f++)e!=f&&Qb[e].GetID()==Qb[f].albumID&&(c++,"image"==Qb[f].kind&&(Qb[f].imageNumber=d++));Qb[e].contentLength=c}}function n(a){var b=!1;jQuery.each(a,function(a,c){var d="";void 0!==jQuery(c).attr("data-ngthumb")&&0<jQuery(c).attr("data-ngthumb").length&&(d=ub.itemsBaseURL+jQuery(c).attr("data-ngthumb")),void 0!==jQuery(c).attr("data-ngThumb")&&0<jQuery(c).attr("data-ngThumb").length&&(d=ub.itemsBaseURL+jQuery(c).attr("data-ngThumb")),src=ub.itemsBaseURL+jQuery(c).attr("href");var e="";void 0!==jQuery(c).attr("data-ngdesc")&&0<jQuery(c).attr("data-ngdesc").length&&(e=jQuery(c).attr("data-ngdesc")),void 0!==jQuery(c).attr("data-ngDesc")&&0<jQuery(c).attr("data-ngDesc").length&&(e=jQuery(c).attr("data-ngDesc"));var f="";void 0!==jQuery(c).attr("data-ngdest")&&0<jQuery(c).attr("data-ngdest").length&&(f=jQuery(c).attr("data-ngdest")),void 0!==jQuery(c).attr("data-ngDest")&&0<jQuery(c).attr("data-ngDest").length&&(f=jQuery(c).attr("data-ngDest"));var g=0;void 0!==jQuery(c).attr("data-ngalbumid")&&(g=jQuery(c).attr("data-ngalbumid"),b=!0),void 0!==jQuery(c).attr("data-ngAlbumID")&&(g=jQuery(c).attr("data-ngAlbumID"),b=!0);var h=null;void 0!==jQuery(c).attr("data-ngid")&&(h=jQuery(c).attr("data-ngid")),void 0!==jQuery(c).attr("data-ngID")&&(h=jQuery(c).attr("data-ngID"));var i="image";void 0!==jQuery(c).attr("data-ngkind")&&0<jQuery(c).attr("data-ngkind").length&&(i=jQuery(c).attr("data-ngkind")),void 0!==jQuery(c).attr("data-ngKind")&&0<jQuery(c).attr("data-ngKind").length&&(i=jQuery(c).attr("data-ngKind"));var j=jQuery(c).text();""!=ub.thumbnailLabel.title&&void 0!=ub.thumbnailLabel.title&&(j=l(src)),v(j,d,src,e,f,i,"",h,g)}),jQuery.each(a,function(a,b){jQuery(b).remove()}),b&&(ub.displayBreadcrumb=!0),a=Qb.length;for(var c=0,d=0,e=0;a>e;e++){for(var f=d=c=0;a>f;f++)e!=f&&Qb[e].GetID()==Qb[f].albumID&&(c++,"image"==Qb[f].kind&&(Qb[f].imageNumber=d++));Qb[e].contentLength=c}}function o(a,b,c,d){if(A(a),Qb[a].contentIsLoaded)w(a,d);else{var e="",f="album";0==Qb[a].GetID()?e=Bc.url()+"?&method=flickr.photosets.getList&api_key="+Bc.ApiKey+"&user_id="+ub.userID+"&primary_photo_extras=url_"+Bc.thumbSize+"&format=json&jsoncallback=?":(e=Bc.url()+"?&method=flickr.photosets.getPhotos&api_key="+Bc.ApiKey+"&photoset_id="+Qb[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",f="image"),B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(e,function(e){if(C(),"album"==f?p(a,e):q(a,e),b)g(!1)||w(a,d);else if(-1!=c){e=-1;for(var h=Qb.length,i=0;h>i;i++)if("image"==Qb[i].kind&&Qb[i].GetID()==c){e=i;break}Y(e,!0)}else w(a,d)}).fail(function(a,b,c){C(),nb("Could not retrieve Flickr photoset list (jQuery): "+(b+", "+c))})}}function p(a,b){var c=!0;if(void 0!==b.stat&&"fail"===b.stat&&(nb("Could not retrieve Flickr photoset list: "+b.message+" (code: "+b.code+")."),c=!1),c){var d=0;"undefined"!=typeof ub.albumSorting&&("random"==ub.albumSorting?b.photosets.photo=tb(b.photosets.photoset):"reversed"==ub.albumSorting&&(b.photosets.photo=b.photosets.photoset.reverse())),jQuery.each(b.photosets.photoset,function(b,c){itemTitle=c.title._content,itemID=c.id,itemDescription="",void 0!=c.description._content&&(itemDescription=c.description._content);var e=c.primary_photo_extras["url_"+Bc.thumbSize],f="";void 0!==c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(f=c.primary_photo_extras.tags),J(itemTitle)&&(e=v(itemTitle,e,"",itemDescription,"","album",f,itemID,Qb[a].GetID()),e.thumbWidth=c.primary_photo_extras["width_"+Bc.thumbSize],e.thumbHeight=c.primary_photo_extras["height_"+Bc.thumbSize],e.contentLength=c.photos,d++)}),Qb[a].contentIsLoaded=!0,Qb[a].contentLength=d}}function q(a,b){"undefined"!=typeof ub.photoSorting&&("random"==ub.photoSorting?b.photoset.photo=tb(b.photoset.photo):"reversed"==ub.photoSorting&&(b.photoset.photo=b.photoset.photo.reverse()));var c=Qb[a].GetID(),d=0;jQuery.each(b.photoset.photo,function(a,b){var e=b.title,f=b.id,g=b.description._content,h=b["url_"+Bc.thumbSize],i=b.url_sq;for(a=Bc.photoSize;a>=0;a--)if(void 0!=b["url_"+Bc.photoAvailableSizesStr[a]]){i=b["url_"+Bc.photoAvailableSizesStr[a]];break}""!=ub.thumbnailLabel.title&&(e=l(i)),e=v(e,h,i,g,"","image","",f,c),e.imageNumber=d,void 0!==b.url_o?(e.width=b.width_o,e.height=b.height_o):(e.width=b.width_z,e.height=b.height_z),e.thumbWidth=b["width_"+Bc.thumbSize],e.thumbHeight=b["height_"+Bc.thumbSize],d++}),Qb[a].contentIsLoaded=!0,Qb[a].contentLength=d}function r(a,b,c,d){if(A(a),Qb[a].contentIsLoaded)w(a,d);else{var e="",f="album";0==Qb[a].GetID()?e=Ac.url()+"user/"+ub.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+Ac.thumbSize:(e="","undefined"!=typeof Qb[a].customVars.authkey&&(e=Qb[a].customVars.authkey),e=Ac.url()+"user/"+ub.userID+"/albumid/"+Qb[a].GetID()+"?alt=json&kind=photo"+e+"&thumbsize="+Ac.thumbSize+"&imgmax=d",f="image"),e+="&callback=?",B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(e,function(e){if(C(),s(a,e,f),b)g(!1)||w(a,d);else if(-1!=c){e=-1;for(var h=Qb.length,i=0;h>i;i++)if("image"==Qb[i].kind&&Qb[i].GetID()==c){e=i;break}Y(e,!0)}else w(a,d)}).fail(function(a,b,c){C(),nb("Could not retrieve Picasa/Google+ data (jQuery): "+(b+", "+c))})}}function s(a,b,c){var d=0,e=Qb[a].GetID();"image"==c?"undefined"!=typeof ub.photoSorting&&("random"==ub.photoSorting?b.feed.entry=tb(b.feed.entry):"reversed"==ub.photoSorting&&(b.feed.entry=b.feed.entry.reverse())):"undefined"!=typeof ub.albumSorting&&("random"==ub.albumSorting?b.feed.entry=tb(b.feed.entry):"reversed"==ub.albumSorting&&(b.feed.entry=b.feed.entry.reverse())),jQuery.each(b.feed.entry,function(a,b){var f="",g=b.media$group.media$title.$t,h=b.media$group.media$thumbnail[0].url,i=b.gphoto$id.$t,j=b.media$group.media$description.$t;"image"==c&&(f=g,g=j,j="");var k=b.media$group.media$content[0].url;""!=ub.thumbnailLabel.title&&(g=l(unescape(unescape(unescape(unescape(k))))));var m=!0;"album"==c&&(J(g)||(m=!1)),m&&("auto"==ub.thumbnailHeight&&Ac.thumbSizeHack&&(m=h.substring(0,h.lastIndexOf("/")),m=m.substring(0,m.lastIndexOf("/"))+"/",h=m+"w"+ub.thumbnailWidth*xc+"/"),"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth?Ac.thumbSizeHack&&(m=h.substring(0,h.lastIndexOf("/")),m=m.substring(0,m.lastIndexOf("/"))+"/",h=m+"h"+ub.thumbnailHeight*xc+"/"):xc>1&&g_picasaThumbSizeHack&&(m=h.substring(0,h.lastIndexOf("/")),m=m.substring(0,m.lastIndexOf("/"))+"/",h=m+"s"+g_picasaThumbSize*xc+"/"),m="","album"==c?m=i:(m=k.substring(0,k.lastIndexOf("/")),m=m.substring(0,m.lastIndexOf("/"))+"/",m=window.screen.width>window.screen.height?m+"w"+window.screen.width+"/"+f:m+"h"+window.screen.height+"/"+f),f=v(g,h,m,j,"",c,"",i,e),f.imageNumber=d,"album"==c&&(f.author=b.author[0].name.$t,f.contentLength=b.gphoto$numphotos.$t),"image"==c?(f.width=b.gphoto$width.$t,f.height=b.gphoto$height.$t,f.thumbWidth=b.media$group.media$thumbnail[0].width,f.thumbHeight=b.media$group.media$thumbnail[0].height):("auto"==ub.thumbnailHeight&&(f.thumbWidth=Ac.thumbSize),("auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&(f.thumbHeight=Ac.thumbSize)),d++)}),Qb[a].contentIsLoaded=!0,Qb[a].contentLength=d}function t(a,b,c,d){if(A(a),Qb[a].contentIsLoaded)w(a,d);else{var e="",f="album";0==Qb[a].GetID()?e=Cc.url()+"?method=smugmug.albums.get&NickName="+ub.userID+"&Heavy=true&APIKey="+Cc.APIKey:(e=Cc.url()+"?method=smugmug.images.get&NickName="+ub.userID+"&Heavy=true&AlbumID="+Qb[a].GetID()+"&APIKey="+Cc.APIKey,f="image"),e+="&Callback=?",B(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0,jQuery.getJSON(e,function(e){if(C(),"fail"==e.stat)nb("Could not retrieve SMUGMUG data (jQuery): "+e.message);else{if(u(a,e,f),""!=ub.gallery){ub.displayBreadcrumb=!1,e=Qb.length;for(var h=0;e>h;h++)if(Qb[h].title.toUpperCase()==ub.gallery.toUpperCase())return void t(h,b,c,d);ub.displayBreadcrumb=!0,ub.gallery=""}if(b)g(!1)||w(a,d);else if(-1!=c){var i=-1;for(e=Qb.length,h=0;e>h;h++)if("image"==Qb[h].kind&&Qb[h].GetID()==c){i=h;break}Y(i,!0)}else w(a,d)}}).fail(function(a,b,c){C(),nb("Could not retrieve SMUGMUG data (jQuery): "+(b+", "+c))})}}function u(a,b,c){var d=0,e=Qb[a].GetID();"album"==c?("undefined"!=typeof ub.albumSorting&&("random"==ub.albumSorting?b.Albums=tb(b.Albums):"reversed"==ub.albumSorting&&(b.Albums=b.Albums.reverse())),jQuery.each(b.Albums,function(a,b){var f=b.Title,g=b.id+"&AlbumKey="+b.Key,h=b.Description,i=!0;"album"==c&&(J(f)||(i=!1)),i&&(f=v(f,"css/nano_gallery.png","//:0",h,"",c,"",g,e),f.imageNumber=d,f.contentLength=b.ImageCount,"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth?(f.thumbWidth=ub.thumbnailHeight,f.thumbHeight=ub.thumbnailHeight):"auto"==ub.thumbnailHeight?(f.thumbWidth=ub.thumbnailWidth,f.thumbHeight=ub.thumbnailWidth):(f.thumbWidth=ub.thumbnailWidth,f.thumbHeight=ub.thumbnailHeight),d++)})):("undefined"!=typeof ub.photoSorting&&("random"==ub.photoSorting?b.Album.Images=tb(b.Album.Images):"reversed"==ub.photoSorting&&(b.Album.Images=b.Album.Images.reverse())),jQuery.each(b.Album.Images,function(b,f){var g=f.Caption;""!=ub.thumbnailLabel.title&&(g=l(f.FileName));var h=f.TinyURL;for(b=Cc.thumbSize;b>=0;b--)if(void 0!=f[Cc.photoAvailableSizesStr[b]]){h=f[Cc.photoAvailableSizesStr[b]];break}0==d&&(Qb[a].thumbsrc=h);var i=f.Key,j=f.ThumbURL;for(b=Cc.photoSize;b>=0;b--)if(void 0!=f[Cc.photoAvailableSizesStr[b]]){j=f[Cc.photoAvailableSizesStr[b]];break}g=v(g,h,j,"","",c,"",i,e),g.imageNumber=d,"auto"==ub.thumbnailHeight&&(g.thumbWidth=ub.thumbnailWidth),("auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&(g.thumbHeight=ub.thumbnailHeight),d++})),Qb[a].contentIsLoaded=!0,Qb[a].contentLength=d}function v(a,b,c,d,e,f,g,h,i){return a=new Qc(a,h),a.thumbsrc=b,a.src=c,a.description=d,a.destinationURL=e,a.kind=f,a.albumID=i,a.tags=0==g.length?null:g.split(" "),Qb.push(a),a}function w(a,b){"display"==ub.lazyBuild?rb(xb,ub.lazyBuildTreshold)?x(a,b):(yc=a,zc=b):x(a,b)}function x(a,b){if(ub.lazyBuild="none",vc=yc=-1,Mb&&jb(!1),a!=qc){if(ub.locationHash&&b){var c="nanogallery/"+wb+"/"+Qb[a].GetID();rc="#"+c,top.location.hash=c}qc=Qb[a].GetID(),A(a),c=0,0<Qb[a].paginationLastPage&&Qb[a].paginationLastWidth==xb.width()&&(c=Qb[a].paginationLastPage),N(a,c)}}function y(a){var b="folder";0==a&&(b="folderHome"),b=jQuery('<div class="'+b+' oneFolder">'+Qb[a].title+"</div>").appendTo(Cb),jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),D(a,!1,-1,!0)})}function z(a){var b=jQuery('<div class="separator"></div>').appendTo(Cb);jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),D(a,!1,-1,!0)})}function A(a){var b=!1;if(1==ub.displayBreadcrumb){var b=!0,c=Cb.children().length;if(0==c?(ub.breadcrumbAutoHideTopLevel&&(Fb.css({opacity:"0","max-height":"0px"}),b=!1),y(0)):(Fb.animate(1==c&&ub.breadcrumbAutoHideTopLevel?{opacity:"0","max-height":"0px"}:{opacity:"1","max-height":"50px"}),Cb.children().not(":first").remove()),0!=a){var c=Qb.length,d=[];for(d.push(a);0!=Qb[a].albumID;)for(i=1;c>i;i++)if(Qb[i].GetID()==Qb[a].albumID){a=i,d.push(a);break}for(z(0),i=d.length-1;i>=0;i--)i>0&&z(d[i-1]),y(d[i])}}ub.useTags&&(b=!0,null==Db&&(Db=jQuery('<div class="nanoGalleryTags"></div>').appendTo(Eb))),!Gb&&b&&(Gb=!0,Fb.show())}function B(){1==ub.displayBreadcrumb&&Cb.find(".oneFolder").last().addClass("loading")}function C(){1==ub.displayBreadcrumb&&Cb.find(".oneFolder").last().removeClass("loading")}function D(a,b,c,d){switch(ub.kind){case"":w(a,d);break;case"flickr":o(a,b,c,d);break;case"smugmug":t(a,b,c,d);break;default:r(a,b,c,d)}}function E(){if("auto"==ub.thumbnailHeight){G(0),H(0);var a=xb.width(),b=0,c=0,d=0,e=0,f=parseInt(a/Xb);0<ub.maxItemsPerLine&&f>ub.maxItemsPerLine&&(f=ub.maxItemsPerLine);var g=[];zb.find(".nanoGalleryThumbnailContainer").each(function(){if(jQuery(this).css("position","absolute"),c=0,0==e){var a=d*Xb;jQuery(this).css({top:c,left:a}),g[d]=c+jQuery(this).outerHeight(!0),0==jQuery(this).css("opacity")&&(ub.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),d++,d>=f&&(d=0,e++)}else{var h=0,a=g[0];for(i=1;f>i;i++)g[i]<a&&(a=g[i],h=i);c=g[h],a=h*Xb,jQuery(this).css({top:c,left:a}),0==jQuery(this).css("opacity")&&(ub.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),g[h]=c+jQuery(this).outerHeight(!0)}b++});var h=g[0];for(i=1;f>i;i++)g[i]>h&&(h=g[i]);zb.width(a).height(h)}else if("auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth){G(0),H(0);var a=xb.width(),j=0,k=0,l=0,m=[],n=0,o=[],p=!1;zb.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<Qb[b].thumbWidth){var c=Qb[b],c=Math.ceil(c.thumbWidth/c.thumbHeight*ub.thumbnailHeight)+Tb+Ub;if(p&&(p=!1,n++,j=0),"auto"!=ub.thumbnailWidth)if(a>j+c)j+=c,o[n]=ub.thumbnailHeight,m[n]=b;else{var d=Math.floor(ub.thumbnailHeight*a/j);o[n]=d,n++,m[n]=b,o[n]=ub.thumbnailHeight,j=c}else a>j+c?(j+=c,o[n]=ub.thumbnailHeight,m[n]=b):(j+=c,d=Math.floor(ub.thumbnailHeight*a/j),o[n]=d,m[n]=b,p=!0)}}),k=l=n=0,zb.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<Qb[b].thumbWidth){jQuery(this).css("position","absolute");var c=Qb[b],d=Math.ceil(c.thumbWidth/c.thumbHeight*o[n]);b==m[n]&&(m.length!=n+1?d=a-k-Tb-Ub:k+d+Tb+Ub>a&&(d=a-k-Tb-Ub)),jQuery(this).height(o[n]+Vb).width(d+Ub),jQuery(this).find(".imgContainer").height(o[n]).width(d),jQuery(this).find("img").height(o[n]).width(d),jQuery(this).css({top:l,left:k}),0==jQuery(this).css("opacity")&&(ub.thumbnailDisplayTransition?"function"==typeof ub.fnThumbnailDisplayEffect?ub.fnThumbnailDisplayEffect(jQuery(this),c,0):jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1)),k+=d+Tb+Ub,b==m[n]&&(l+=o[n]+Sb,n++,k=0)}}),zb.width(a).height(l+ub.thumbnailHeight)}else G(0),H(0),oc>0&&Xb>0&&(a=xb.outerWidth(!0),b=parseInt(a/Xb),1>b&&(b=1),b!=mc&&(F(),h=Bb.data("galleryIdx"),N(h,0)))}function F(){if(oc>0){var a=xb.outerWidth(!0);mc=parseInt(a/Xb),1>mc&&(mc=1),0<ub.maxItemsPerLine&&mc>ub.maxItemsPerLine&&(mc=ub.maxItemsPerLine)}}function G(a){if(Xb>0&&(0<ub.maxWidth&&Xb>ub.maxWidth&&jQuery(vb).css("maxWidth",Xb),a=xb.outerWidth(!0),"auto"!=ub.thumbnailWidth&&"autoUpScale"!=ub.thumbnailWidth)){var b=!1;0<ub.maxItemsPerLine&&ub.maxItemsPerLine*Xb<=a&&(zb.css("maxWidth",ub.maxItemsPerLine*Xb),b=!0),b||(a=parseInt(a/Xb),a>0&&zb.css("maxWidth",a*Xb))}}function H(a){ub.galleryToolbarWidthAligned&&void 0!==Fb&&(a=zb.outerWidth(!0),Fb.width(),Fb.width(a))}function I(){var a=zb.find(".nanoGalleryThumbnailContainer").filter(function(){return qb(this,fc)});jQuery(a).each(function(){var a=jQuery(this).find("img");if("//:0"==jQuery(a).attr("src")){var b=jQuery(this).data("index");jQuery(a).attr("src",Qb[b].thumbsrc)}})}function J(a){if(a=a.toUpperCase(),null===ac){var b=!1;if(null!==_b){for(c=0;c<_b.length;c++)-1!==a.indexOf(_b[c])&&(b=!0);if(!b)return!1}if(null!==$b)for(c=0;c<$b.length;c++)if(-1!==a.indexOf($b[c]))return!1;return!0}for(var c=0;c<ac.length;c++)if(a==ac[c].toUpperCase())return!0}function K(a,b){if(void 0!=Bb){Bb.children().remove(),Bb.data("galleryIdx",a),Bb.data("currentPageNumber",b);var c=0,d=0;if(b>0){var e=jQuery('<div class="paginationPrev">'+kc.paginationPrevious+"</div>").appendTo(Bb),d=d+jQuery(e).outerWidth(!0);e.click(function(){M()})}if(e=0,0!=nc&&(c=Math.ceil(Qb[a].contentLength/nc)),oc>0&&(c=Math.ceil(Qb[a].contentLength/(oc*mc))),b>=5?(e=b-5,c>b+6&&(c=b+6)):c>10&&(c=10),1!=c){for(;c>e;e++){var f="";e==b&&(f=" currentPage"),f=jQuery('<div class="paginationItem'+f+'">'+(e+1)+"</div>").appendTo(Bb),jQuery(f).data("pageNumber",e),d+=jQuery(f).outerWidth(!0),f.click(function(a){a=Bb.data("galleryIdx");var b=jQuery(this).data("pageNumber");N(a,b)})}c>b+1&&(c=jQuery('<div class="paginationNext">'+kc.paginationNext+"</div>").appendTo(Bb),d+=jQuery(c).outerWidth(!0),c.click(function(){L()})),Bb.width(d)}}}function L(){var a=Bb.data("galleryIdx"),b=0;0!=nc&&(b=Qb[a].contentLength/nc),oc>0&&(b=Qb[a].contentLength/(oc*mc)),n2=Math.ceil(b),b=Bb.data("currentPageNumber"),n2-1>b?b++:b=0,N(a,b)}function M(){var a=Bb.data("galleryIdx"),b=0;0!=nc&&(b=Qb[a].contentLength/nc),oc>0&&(b=Qb[a].contentLength/(oc*mc)),n2=Math.ceil(b),b=Bb.data("currentPageNumber"),b>0?b--:b=n2-1,N(a,b)}function N(a,b){zb.parent().animate({opacity:0},100).promise().done(function(){zb.off().empty();for(var c=Qb.length,d=0;c>d;d++)Qb[d].hovered=!1;xb.css({left:0,opacity:"1"}),O(a,b,P)})}function O(a,b,c){if(-1!=a){Qb[a].paginationLastPage=b,Qb[a].paginationLastWidth=xb.width();var d=Qb.length,e=0,f=0,g=0,h=0;nc>0&&(g=b*nc,h=g+nc),oc>0&&(g=b*oc*mc,h=g+oc*mc),1==ub.displayBreadcrumb&&Cb.find(".oneFolder").last().removeClass("loading");var i="1";ub.thumbnailDisplayTransition&&(i="0");var k=!1,l=!1,m=0;!function(){for(var n=0;100>n;n++){if(m>=d)return void c(a,b);var o=Qb[m];if(o.albumID==Qb[a].GetID()){if(f++,nc>0&&f>h)return void c(a,b);if(oc>0&&e+1>oc*mc)return void c(a,b);if(f>g){e++;var p=Q(o,m,i,!1),q=p;if("function"==typeof ub.fnThumbnailInit)ub.fnThumbnailInit(q,o);else switch(ub.thumbnailLabel.position){case"onBottom":q.find(".labelImage").css({top:"0",position:"relative",width:"100%"}),q.find(".labelImageTitle").css("white-space","nowrap"),q.find(".labelFolderTitle").css("white-space","nowrap"),q.find(".labelDescription").css("white-space","nowrap");break;case"overImageOnTop":q.find(".labelImage").css({top:"0"});break;case"overImageOnMiddle":q.find(".labelImage").css({top:"0",height:"100%",width:"100%"}),q.find(".labelFolderTitle").css({width:"100%",position:"absolute",bottom:"50%"}),q.find(".labelImageTitle").css({width:"100%",position:"absolute",bottom:"50%"}),q.find(".labelDescription").css({width:"100%",position:"absolute",top:"50%"});break;default:ub.thumbnailLabel.position="overImageOnBottom",q.find(".labelImage").css({bottom:"0",width:"100%"})}T(p,o);var q="auto"==ub.thumbnailHeight&&0==Qb[m].thumbHeight||("auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&0==Qb[m].thumbWidth,r=p.detach();if(q?r.css("opacity",0):r.css("opacity",i),r.appendTo(zb),("auto"==ub.thumbnailHeight&&0<o.thumbHeight||("auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth)&&0<o.thumbWidth)&&E(),r.removeClass("nanogalleryHideElement"),q||ub.thumbnailDisplayTransition&&(ec>0?"function"==typeof ub.fnThumbnailDisplayEffect?ub.fnThumbnailDisplayEffect(r,o,e):r.delay(e*ec).fadeTo(150,1):"function"==typeof ub.fnThumbnailDisplayEffect?ub.fnThumbnailDisplayEffect(r,o,0):r.fadeTo(150,1)),ub.thumbnailLazyLoad&&!k&&(qb(p,fc)?(p.find("img").attr("src",o.thumbsrc),l=!0):l&&(k=!0)),o=p,q=jQuery(o).data("index"),void 0!=q)for(p=Qb[q],"function"==typeof ub.fnThumbnailHoverInit&&ub.fnThumbnailHoverInit(o,p),j=0;j<pc.length;j++){switch(q=!1,pc[j].name){case"imageSplit4":if("onBottom"!=ub.thumbnailLabel.position){o.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),o.find(".labelImage").css({left:"auto"});var r=o.width(),s=o.height();o.find(".subcontainer").prepend(o.find(".imgContainer").clone()),o.find(".subcontainer").prepend(o.find(".imgContainer").clone());var t="rect(0px, "+r/2+"px, "+s/2+"px, 0px)";o.find(".imgContainer").eq(0).css({right:"0%",top:"0%",clip:t,position:"absolute"}),t="rect(0px, "+r+"px, "+s/2+"px, "+r/2+"px)",o.find(".imgContainer").eq(1).css({left:"0%",top:"0%",clip:t,position:"absolute"}),t="rect("+s/2+"px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".imgContainer").eq(2).css({left:"0%",bottom:"0%",clip:t,position:"absolute"}),t="rect("+s/2+"px, "+r/2+"px, "+s+"px, 0px)",o.find(".imgContainer").eq(3).css({right:"0%",bottom:"0%",clip:t,position:"absolute"}),sb("",jQuery(o).find(".imgContainer"))}break;case"imageSplitVert":"onBottom"!=ub.thumbnailLabel.position&&(o.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),o.find(".labelImage").css({left:"auto"}),r=o.width(),s=o.height(),o.find(".subcontainer").prepend(o.find(".imgContainer").clone()),t="rect(0px, "+r/2+"px, "+s+"px, 0px)",o.find(".imgContainer").eq(0).css({right:"0%",clip:t,position:"absolute"}),t="rect(0px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".imgContainer").eq(1).css({left:"0%",clip:t,position:"absolute"}),sb("",jQuery(o).find(".imgContainer")));break;case"labelSplit4":"onBottom"!=ub.thumbnailLabel.position&&(o.find(".subcontainer").css({overflow:"hidden",position:"relative"}),o.find(".labelImage").css({left:"auto"}),r=o.width(),s=o.height(),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),t="rect(0px, "+r/2+"px, "+s/2+"px, 0px)",o.find(".labelImage").eq(0).css({right:"0%",top:"0%",clip:t}),t="rect(0px, "+r+"px, "+s/2+"px, "+r/2+"px)",o.find(".labelImage").eq(1).css({left:"0%",top:"0%",clip:t}),t="rect("+s/2+"px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".labelImage").eq(2).css({left:"0%",top:"0%",clip:t}),t="rect("+s/2+"px, "+r/2+"px, "+s+"px, 0px)",o.find(".labelImage").eq(3).css({right:"0%",top:"0%",clip:t}));
break;case"labelSplitVert":"onBottom"!=ub.thumbnailLabel.position&&(o.find(".subcontainer").css({overflow:"hidden",position:"relative"}),o.find(".labelImage").css({left:"auto"}),r=o.width(),s=o.height(),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),t="rect(0px, "+r/2+"px, "+s+"px, 0px)",o.find(".labelImage").eq(0).css({right:"0%",clip:t}),t="rect(0px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".labelImage").eq(1).css({left:"0%",clip:t}));break;case"labelAppearSplit4":"onBottom"!=ub.thumbnailLabel.position&&(o.find(".subcontainer").css({overflow:"hidden",position:"relative"}),o.find(".labelImage").css({left:"auto"}),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),r=o.find(".subcontainer").width(),s=o.find(".subcontainer").height(),t="rect(0px, "+r/2+"px, "+s/2+"px, 0px)",o.find(".labelImage").eq(0).css({right:"50%",top:"-50%",clip:t}),t="rect(0px, "+r+"px, "+s/2+"px, "+r/2+"px)",o.find(".labelImage").eq(1).css({left:"50%",top:"-50%",clip:t}),t="rect("+s/2+"px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".labelImage").eq(2).css({left:"50%",top:"50%",clip:t}),t="rect("+s/2+"px, "+r/2+"px, "+s+"px, 0px)",o.find(".labelImage").eq(3).css({right:"50%",top:"50%",clip:t}));break;case"labelAppearSplitVert":"onBottom"!=ub.thumbnailLabel.position&&(o.find(".subcontainer").css({overflow:"hidden",position:"relative"}),o.find(".labelImage").css({left:"auto"}),o.find(".labelImage").clone().appendTo(o.find(".subcontainer")),r=o.find(".subcontainer").width(),s=o.find(".subcontainer").height(),t="rect(0px, "+r/2+"px, "+s+"px, 0px)",o.find(".labelImage").eq(0).css({right:"50%",clip:t}),t="rect(0px, "+r+"px, "+s+"px, "+r/2+"px)",o.find(".labelImage").eq(1).css({left:"50%",clip:t}));break;case"scaleLabelOverImage":"onBottom"!=ub.thumbnailLabel.position&&(sb("",jQuery(o).find(".imgContainer")),jQuery(o).find(".labelImage").css({opacity:"0",scale:.5}),jQuery(o).find(".imgContainer").css({scale:"1"}),q=!0);break;case"overScale":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),sb("",jQuery(o).find(".labelImage")),jQuery(o).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(o).find(".imgContainer").css({opacity:"1",scale:"1"}),q=!0);break;case"overScaleOutside":"onBottom"!=ub.thumbnailLabel.position&&(sb("",jQuery(o).find(".labelImage")),jQuery(o).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(o).find(".imgContainer").css({opacity:"1",scale:"1"}),q=!0);break;case"rotateCornerBL":"onBottom"!=ub.thumbnailLabel.position&&ic&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css({rotate:"-90deg","transform-origin":"100% 100%"}),jQuery(o).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),q=!0);break;case"rotateCornerBR":"onBottom"!=ub.thumbnailLabel.position&&ic&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css({rotate:"90deg","transform-origin":"0% 100%"}),jQuery(o).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),q=!0);break;case"imageRotateCornerBL":"onBottom"!=ub.thumbnailLabel.position&&ic&&(sb(o,jQuery(o).find(".imgContainer")),jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1"),jQuery(o).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),q=!0);break;case"imageRotateCornerBR":"onBottom"!=ub.thumbnailLabel.position&&ic&&(sb(o,jQuery(o).find(".imgContainer")),jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1"),jQuery(o).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),q=!0);break;case"slideUp":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css("top",p.thumbRealHeight),jQuery(o).find(".imgContainer").css({left:"0",top:"0"}),q=!0);break;case"slideDown":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css("top",-p.thumbRealHeight),jQuery(o).find(".imgContainer").css({left:"0",top:"0"}),q=!0);break;case"slideRight":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css("left",-p.thumbRealWidth),jQuery(o).find(".imgContainer").css({left:"0",top:"0"}),q=!0);break;case"slideLeft":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1").css("left",p.thumbRealWidth),jQuery(o).find(".imgContainer").css({left:"0",top:"0"}),q=!0);break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":"onBottom"!=ub.thumbnailLabel.position&&(sb(o,jQuery(o).find(".imgContainer")),jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css("opacity","1"),jQuery(o).find(".imgContainer").css({left:"0",top:"0"}),q=!0);break;case"labelAppear":case"labelAppear75":"onBottom"!=ub.thumbnailLabel.position&&(q="rgb("+wc.oldLabelRed+","+wc.oldLabelGreen+","+wc.oldLabelBlue+",0)",jQuery(o).find(".labelImage").css("backgroundColor",q),jQuery(o).find(".labelImageTitle").css("opacity","0"),jQuery(o).find(".labelFolderTitle").css("opacity","0"),jQuery(o).find(".labelDescription").css("opacity","0"),q=!1);break;case"labelSlideUpTop":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css({top:p.thumbRealHeight,bottom:"none",height:"100%"}),q=!0);break;case"labelSlideUp":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css({bottom:-p.thumbRealHeight,top:"none"}),q=!0);break;case"labelSlideDown":"onBottom"!=ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),jQuery(o).find(".labelImage").css({top:-p.thumbRealHeight,bottom:"none"}),q=!0);break;case"descriptionSlideUp":"overImageOnBottom"==ub.thumbnailLabel.position&&(jQuery(o).css("overflow","hidden"),q=p.thumbRealHeight-(jQuery(o).find(".labelImage").outerHeight(!0)-jQuery(o).find(".labelImage").height())/2-Zb+"px",jQuery(o).find(".labelImage").css({top:q,bottom:null}),q=!0);break;case"imageFlipHorizontal":ic&&(q=Math.round(1.2*p.thumbRealHeight)+"px",jQuery(o).find(".imgContainer").css({perspective:q,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(o).find(".labelImage").css({perspective:q,rotateX:"180deg","backface-visibility":"hidden",height:p.thumbRealHeight,opacity:"1"}),q=!0);break;case"imageFlipVertical":ic&&(q=Math.round(1.2*p.thumbRealWidth)+"px",jQuery(o).find(".imgContainer").css({perspective:q,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(o).find(".labelImage").css({perspective:q,rotateY:"180deg","backface-visibility":"hidden",height:p.thumbRealHeight,opacity:"1"}),q=!0);break;case"flipHorizontal":q=Math.round(1.2*p.thumbRealHeight)+"px",jQuery(o).find(".labelImage").css({perspective:q,rotateX:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"}),q=!0;break;case"flipVertical":q=Math.round(1.2*p.thumbRealWidth)+"px",jQuery(o).find(".subcontainer").css({perspective:q,rotateY:"0deg"}),jQuery(o).find(".labelImage").css({perspective:q,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"}),q=!0;break;case"borderLighter":case"borderDarker":q=!1;break;case"imageScale150":jQuery(o).css("overflow","hidden");case"imageScale150Outside":q=!0}ic||(q=!1),q?("swing"==pc[j].easing&&(pc[j].easing="ease"),"swing"==pc[j].easingBack&&(pc[j].easingBack="ease"),pc[j].method="transit"):"swing"!=pc[j].easing||"swing"!=pc[j].easingBack?(pc[j].method="transit","swing"==pc[j].easing&&(pc[j].easing="ease"),"swing"==pc[j].easingBack&&(pc[j].easingBack="ease")):pc[j].method="jquery"}}}m++}d>m?(H(b),setTimeout(arguments.callee,0)):c(a,b)}()}}function P(a,b){zb.on("mouseenter",".nanoGalleryThumbnailContainer",function(){W(this)}).on("mouseleave",".nanoGalleryThumbnailContainer",function(){X(this)}).on("touchstart",".nanoGalleryThumbnailContainer",function(a){a.preventDefault(),U(this)}).on("click",".nanoGalleryThumbnailContainer",function(){jQuery(this),U(this)}),G(b),H(b),K(a,b)}function Q(a,b,c,d){var e=[],f=0;e[f++]='<div class="nanoGalleryThumbnailContainer nanogalleryHideElement" style="display:inline-block,opacity:'+c+'" ><div class="subcontainer" style="display: inline-block">';var g="",g=ub.thumbnailLazyLoad?"//:0":a.thumbsrc;c=!1,"auto"==ub.thumbnailHeight?(e[f++]='<div class="imgContainer" style="width:'+ub.thumbnailWidth+'px;"><img class="image" src='+g+' alt=" " style="width:'+ub.thumbnailWidth+'px;"></div>',0==Qb[b].thumbHeight&&(c=!0)):"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth?(e[f++]='<div class="imgContainer" style="height:'+ub.thumbnailHeight+'px;"><img class="image" src='+g+' alt=" " style="height:'+ub.thumbnailHeight+'px;" ></div>',0==Qb[b].thumbWidth&&(c=!0)):e[f++]='<div class="imgContainer" style="width:'+ub.thumbnailWidth+"px;height:"+ub.thumbnailHeight+'px;"><img class="image" src='+g+' alt=" " style="max-width:'+ub.thumbnailWidth+"px;max-height:"+ub.thumbnailHeight+'px;" ></div>';var g=R(a),h=S(a);if("album"==a.kind){if(1==ub.thumbnailLabel.display){if(0<a.contentLength)switch(ub.thumbnailLabel.itemsCount){case"title":g+=" "+kc.thumbnailLabelItemsCountPart1+a.contentLength+kc.thumbnailLabelItemsCountPart2;break;case"description":h+=" "+kc.thumbnailLabelItemsCountPart1+a.contentLength+kc.thumbnailLabelItemsCountPart2}e[f++]='<div class="labelImage" style="width:'+ub.thumbnailWidth+'px;"><div class="labelFolderTitle labelTitle" >'+g+'</div><div class="labelDescription" >'+h+"</div></div>"}}else 1==ub.thumbnailLabel.display&&(d&&0==h.length&&"onBottom"==ub.thumbnailLabel.position&&(h="&nbsp;"),e[f++]='<div class="labelImage" style="width:'+ub.thumbnailWidth+'px;"><div class="labelImageTitle labelTitle" >'+g+'</div><div class="labelDescription" >'+h+"</div></div>");return e[f++]="</div></div>",d=jQuery(e.join("")).appendTo(Ab),a.$elt=d,d.data("index",b),d.find("img").data("index",b),c&&d.imagesLoaded().always(function(a){var b=Qb[jQuery(a.images[0].img).data("index")];if(void 0!==b){var c=!1;b.thumbHeight!=a.images[0].img.naturalHeight&&(b.thumbHeight=a.images[0].img.naturalHeight,c=a.images[0].img.naturalHeight/a.images[0].img.naturalWidth,c*=ub.thumbnailWidth,b.$elt.find(".imgContainer").height(c),b.thumbRealHeight=c+Sb,b.$elt.height(b.thumbRealHeight),c=!0),b.thumbWidth!=a.images[0].img.naturalWidth&&(b.thumbWidth=a.images[0].img.naturalWidth,c=a.images[0].img.naturalWidth/a.images[0].img.naturalHeight,a=ub.thumbnailHeight*c,b.$elt.find(".imgContainer").width(a),b.thumbRealWidth=a+Rb,b.$elt.width(b.thumbRealWidth),c=!0),c&&(T(b.$elt,b),E())}}),d}function R(a){return a=a.title,1==ub.thumbnailLabel.display&&((void 0===a||0==a.length)&&(a="&nbsp;"),""!=kc.thumbnailImageTitle&&(a=kc.thumbnailImageTitle),3<ub.thumbnailLabel.titleMaxLength&&a.length>ub.thumbnailLabel.titleMaxLength&&(a=a.substring(0,ub.thumbnailLabel.titleMaxLength)+"...")),a}function S(a){var b="";return 1==ub.thumbnailLabel.displayDescription&&(b="album"==a.kind?""!=kc.thumbnailImageDescription?kc.thumbnailAlbumDescription:a.description:""!=kc.thumbnailImageDescription?kc.thumbnailImageDescription:a.description,3<ub.thumbnailLabel.descriptionMaxLength&&b.length>ub.thumbnailLabel.descriptionMaxLength&&(b=b.substring(0,ub.thumbnailLabel.descriptionMaxLength)+"...")),b}function T(a,b){if("auto"==ub.thumbnailHeight){if(0<b.thumbHeight){var c=b.thumbHeight/b.thumbWidth;a.find(".imgContainer").height(ub.thumbnailWidth*c),b.thumbRealHeight=ub.thumbnailWidth*c,"onBottom"==ub.thumbnailLabel.position?(a.height(b.thumbRealHeight+a.find(".labelImage").outerHeight(!0)+Vb),a.width(ub.thumbnailWidth+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())):a.height(b.thumbRealHeight+Vb).width(ub.thumbnailWidth+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())}b.thumbRealWidth=Wb}else"auto"==ub.thumbnailWidth||"autoUpScale"==ub.thumbnailWidth?(0<b.thumbWidth&&(c=b.thumbHeight/b.thumbWidth,a.find(".imgContainer").width(ub.thumbnailHeight*c),b.thumbRealWidth=ub.thumbnailHeight*c+Rb,a.width(b.thumbRealWidth).height(ub.thumbnailHeight+a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width())),b.thumbRealHeight=Yb):(a.width(Wb).height("onBottom"==ub.thumbnailLabel.position?Yb+a.find(".labelImage").outerHeight(!0)+Sb:Yb),b.thumbRealHeight=Yb,b.thumbRealWidth=Wb)}function U(a){var b=jQuery(a).data("index");0==ub.touchAnimation||!0===Qb[b].hovered?void 0!==Qb[b].destinationURL&&0<Qb[b].destinationURL.length?window.location=Qb[b].destinationURL:"album"==Qb[b].kind?D(b,!1,-1,!0):Y(b,!1):(V(),W(a))}function V(){for(var a=Qb.length,b=0;a>b;b++)!0===Qb[b].hovered&&X(Qb[b].$elt)}function W(a){jQuery(a).find("*").stop(!0,!0);var b=jQuery(a).data("index");if(void 0!=b){var c=Qb[b];c.hovered=!0,"function"==typeof ub.fnThumbnailHover&&ub.fnThumbnailHover(jQuery(a),c);try{for(j=0;j<pc.length;j++)switch(pc[j].name){case"imageSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".imgContainer").eq(0).transition({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(1).transition({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(2).transition({left:"50%",bottom:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(3).transition({right:"50%",bottom:"-50%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").eq(0).animate({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(1).animate({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(2).animate({left:"50%",bottom:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(3).animate({right:"50%",bottom:"-50%"},pc[j].duration,pc[j].easing)));break;case"imageSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".imgContainer").eq(0).transition({right:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(1).transition({left:"50%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").eq(0).animate({right:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").eq(1).animate({left:"50%"},pc[j].duration,pc[j].easing)));break;case"labelSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transitXXX"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).transition({left:"50%",top:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).transition({right:"50%",top:"50%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},pc[j].duration,pc[j].easing)));break;case"labelSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"50%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"50%"},pc[j].duration,pc[j].easing)));break;case"labelAppearSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).transition({right:"0%",top:"0%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},pc[j].duration,pc[j].easing)));break;case"labelAppearSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"0%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"0%"},pc[j].duration,pc[j].easing)));break;case"scaleLabelOverImage":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").transition({opacity:"1",scale:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({scale:"0.5"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").animate({opacity:"1",scale:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").animate({scale:"0.5"},pc[j].duration,pc[j].easing)));break;case"overScale":case"overScaleOutside":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").transition({opacity:"1",scale:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({opacity:"0",scale:"0.5"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").animate({opacity:"1",scale:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").animate({opacity:"0",scale:"0.5"},pc[j].duration,pc[j].easing)));break;case"imageInvisible":"transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({opacity:"0"},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({opacity:"0"},pc[j].duration,pc[j].easing);break;case"rotateCornerBL":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&(jQuery(a).find(".labelImage").transition({rotate:"0deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({rotate:"90deg"},pc[j].duration,pc[j].easing));break;case"rotateCornerBR":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&(jQuery(a).find(".labelImage").transition({rotate:"0deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({rotate:"-90deg"},pc[j].duration,pc[j].easing));break;case"imageRotateCornerBL":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&jQuery(a).find(".imgContainer").transition({rotate:"90deg"},pc[j].duration,pc[j].easing);break;case"imageRotateCornerBR":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&jQuery(a).find(".imgContainer").transition({rotate:"-90deg"},pc[j].duration,pc[j].easing);break;case"slideUp":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealHeight+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({top:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({top:0},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({top:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({top:0},pc[j].duration,pc[j].easing)));break;case"slideDown":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealHeight+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({top:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({top:0},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({top:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({top:0},pc[j].duration,pc[j].easing)));break;case"slideRight":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealWidth+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({left:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({left:0},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({left:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({left:0},pc[j].duration,pc[j].easing)));break;case"slideLeft":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealWidth+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({left:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({left:0},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({left:b},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({left:0},pc[j].duration,pc[j].easing)));break;case"imageSlideUp":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealHeight+"px","transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({top:b},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({top:b},pc[j].duration,pc[j].easing));break;case"imageSlideDown":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealHeight+"px","transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({top:b},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({top:b},pc[j].duration,pc[j].easing));break;case"imageSlideLeft":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealWidth+"px","transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({left:b},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({left:b},pc[j].duration,pc[j].easing));break;case"imageSlideRight":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealWidth+"px","transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({left:b},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({left:b},pc[j].duration,pc[j].easing));break;case"labelAppear":if("onBottom"!=ub.thumbnailLabel.position){var d="rgba("+wc.oldLabelRed+","+wc.oldLabelGreen+","+wc.oldLabelBlue+",1)";jQuery(a).find(".labelImage").animate({backgroundColor:d},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImageTitle").animate({opacity:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelFolderTitle").animate({opacity:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelDescription").animate({opacity:"1"},pc[j].duration,pc[j].easing)}break;case"labelAppear75":"onBottom"!=ub.thumbnailLabel.position&&(d="rgba("+wc.oldLabelRed+","+wc.oldLabelGreen+","+wc.oldLabelBlue+",0.75)",jQuery(a).find(".labelImage").animate({backgroundColor:d},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImageTitle").animate({opacity:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelFolderTitle").animate({opacity:"1"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelDescription").animate({opacity:"1"},pc[j].duration,pc[j].easing));break;case"labelSlideDown":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:0},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({top:0},pc[j].duration,pc[j].easing));break;case"labelSlideUpTop":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:0},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({top:0},pc[j].duration,pc[j].easing));break;case"labelSlideUp":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({bottom:0},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({bottom:0},pc[j].duration,pc[j].easing));break;case"descriptionSlideUp":"overImageOnBottom"==ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:0},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({top:0},pc[j].duration,pc[j].easing));break;case"labelOpacity50":"transit"==pc[j].method?jQuery(a).find(".labelImage").transition({opacity:.5},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({opacity:.5},pc[j].duration,pc[j].easing);break;case"imageOpacity50":"transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({opacity:.5},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({opacity:.5},pc[j].duration,pc[j].easing);break;case"borderLighter":"transit"==pc[j].method?jQuery(a).transition({borderColor:Sc(wc.oldBorderColor,.5,!1)},pc[j].duration,pc[j].easing):jQuery(a).animate({borderTopColor:Sc(wc.oldBorderColor,.5,!1),borderRightColor:Sc(wc.oldBorderColor,.5,!1),borderBottomColor:Sc(wc.oldBorderColor,.5,!1),borderLeftColor:Sc(wc.oldBorderColor,.5,!1)},pc[j].duration,pc[j].easing);break;case"borderDarker":"transit"==pc[j].method?jQuery(a).transition({borderColor:Sc(wc.oldBorderColor,.5,!0)},pc[j].duration,pc[j].easing):jQuery(a).animate({borderTopColor:Sc(wc.oldBorderColor,.5,!0),borderRightColor:Sc(wc.oldBorderColor,.5,!0),borderBottomColor:Sc(wc.oldBorderColor,.5,!0),borderLeftColor:Sc(wc.oldBorderColor,.5,!0)},pc[j].duration,pc[j].easing);break;case"imageScale150":"transit"==pc[j].method?jQuery(a).find("img").transition({scale:1.5},pc[j].duration,pc[j].easing):jQuery(a).find("img").animate({scale:1.5},pc[j].duration,pc[j].easing);break;case"imageScale150Outside":jQuery(a).css("z-index","auto"),"transit"==pc[j].method?jQuery(a).find("img").transition({scale:1.5},pc[j].duration,pc[j].easing):jQuery(a).find("img").animate({scale:1.5},pc[j].duration,pc[j].easing);break;case"scale120":jQuery(a).css("z-index","auto"),"transit"==pc[j].method?jQuery(a).transition({scale:1.2},pc[j].duration,pc[j].easing):jQuery(a).animate({scale:1.2},pc[j].duration,pc[j].easing);break;case"imageFlipHorizontal":"transit"==pc[j].method&&(sb("",a),b=Math.round(1.2*c.thumbRealHeight)+"px",jQuery(a).find(".imgContainer").transition({perspective:b,rotateX:"180deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({perspective:b,rotateX:"360deg"},pc[j].duration,pc[j].easing));break;case"imageFlipVertical":"transit"==pc[j].method&&(sb("",a),b=Math.round(1.2*c.thumbRealWidth)+"px",jQuery(a).find(".imgContainer").transition({perspective:b,rotateY:"180deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({perspective:b,rotateY:"360deg"},pc[j].duration,pc[j].easing));break;case"flipHorizontal":"transit"==pc[j].method&&(sb("",a),b=Math.round(1.2*c.thumbRealHeight)+"px",jQuery(a).transition({perspective:b,rotateX:"180deg"},pc[j].duration,pc[j].easing));break;case"flipVertical":"transit"==pc[j].method&&(sb("",a),b=Math.round(1.2*c.thumbRealWidth)+"px",jQuery(a).transition({perspective:b,rotateY:"180deg"},pc[j].duration,pc[j].easing));break;case"TEST":jQuery(a).find(".subcontainer").transition({scale:.8},150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(e){nb("error on hover "+e.message)}}}function X(a){if(!Mb){jQuery(a).find("*").stop(!0,!1);var b=jQuery(a).data("index");if(void 0!=b){var c=Qb[b];c.hovered=!1,"function"==typeof ub.fnThumbnailHoverOut&&ub.fnThumbnailHoverOut(jQuery(a),c);try{for(j=0;j<pc.length;j++)switch(pc[j].name){case"imageSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".imgContainer").eq(0).transition({right:"0%",top:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(1).transition({left:"0%",top:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(2).transition({left:"0%",bottom:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(3).transition({right:"0%",bottom:"0%"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".imgContainer").eq(0).animate({right:"0%",top:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(1).animate({left:"0%",top:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(2).animate({left:"0%",bottom:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(3).animate({right:"0%",bottom:"0%"},pc[j].durationBack,pc[j].easingBack)));case"imageSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".imgContainer").eq(0).transition({right:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(1).transition({left:"0%"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".imgContainer").eq(0).animate({right:"0%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").eq(1).animate({left:"0%"},pc[j].durationBack,pc[j].easingBack)));break;case"labelSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).transition({right:"0%",top:"0%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},pc[j].duration,pc[j].easing)));break;case"labelSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"0%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"0%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"0%"},pc[j].duration,pc[j].easing)));break;case"labelAppearSplit4":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).transition({left:"50%",top:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).transition({right:"50%",top:"50%"},pc[j].duration,pc[j].easing)):(jQuery(a).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},pc[j].duration,pc[j].easing)));case"labelAppearSplitVert":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").eq(0).transition({right:"50%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".labelImage").eq(1).transition({left:"50%"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".labelImage").eq(0).animate({right:"50%"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".labelImage").eq(1).animate({left:"50%"},pc[j].durationBack,pc[j].easingBack)));break;case"scaleLabelOverImage":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").transition({opacity:"0",scale:"0.5"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").transition({scale:"1"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".labelImage").animate({opacity:"0",scale:"0.5"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").animate({scale:"1"},pc[j].durationBack,pc[j].easingBack)));break;case"overScale":case"overScaleOutside":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".labelImage").transition({opacity:"0",scale:"1.5"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").transition({opacity:"1",scale:"1"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".labelImage").animate({opacity:"0",scale:"1.5"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").animate({opacity:"1",scale:"1"},pc[j].durationBack,pc[j].easingBack)));
break;case"imageInvisible":"transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({opacity:"1"},pc[j].durationBack,pc[j].easingBack):jQuery(a).find(".imgContainer").animate({opacity:"1"},pc[j].durationBack,pc[j].easingBack);break;case"rotateCornerBL":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&(jQuery(a).find(".labelImage").transition({rotate:"-90deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({rotate:"0deg"},pc[j].duration,pc[j].easing));break;case"rotateCornerBR":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&(jQuery(a).find(".labelImage").transition({rotate:"90deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".imgContainer").transition({rotate:"0deg"},pc[j].duration,pc[j].easing));break;case"imageRotateCornerBL":case"imageRotateCornerBR":"transit"==pc[j].method&&"onBottom"!=ub.thumbnailLabel.position&&jQuery(a).find(".imgContainer").transition({rotate:"0"},pc[j].durationBack,pc[j].easingBack);break;case"slideUp":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealHeight+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({top:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({top:b},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({top:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({top:b},pc[j].duration,pc[j].easing)));break;case"slideDown":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealHeight+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({top:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({top:b},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({top:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({top:b},pc[j].duration,pc[j].easing)));break;case"slideRight":"onBottom"!=ub.thumbnailLabel.position&&(b="-"+c.thumbRealWidth+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({left:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({left:b},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({left:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({left:b},pc[j].duration,pc[j].easing)));break;case"slideLeft":"onBottom"!=ub.thumbnailLabel.position&&(b=c.thumbRealWidth+"px","transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({left:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({left:b},pc[j].duration,pc[j].easing)):(jQuery(a).find(".imgContainer").animate({left:0},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").animate({left:b},pc[j].duration,pc[j].easing)));break;case"imageSlideUp":case"imageSlideDown":case"imageSlideLeft":case"imageSlideRight":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?(jQuery(a).find(".imgContainer").transition({top:"0"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").transition({left:"0"},pc[j].durationBack,pc[j].easingBack)):(jQuery(a).find(".imgContainer").animate({top:"0"},pc[j].durationBack,pc[j].easingBack),jQuery(a).find(".imgContainer").animate({left:"0"},pc[j].durationBack,pc[j].easingBack)));break;case"labelAppear":case"labelAppear75":if("onBottom"!=ub.thumbnailLabel.position){var d="rgb("+wc.oldLabelRed+","+wc.oldLabelGreen+","+wc.oldLabelBlue+",0)";jQuery(a).find(".labelImage").animate({backgroundColor:d},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImageTitle").animate({opacity:"0"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelFolderTitle").animate({opacity:"0"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelDescription").animate({opacity:"0"},pc[j].duration,pc[j].easing)}break;case"labelSlideDown":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:"-99%"},pc[j].durationBack,pc[j].easingBack):jQuery(a).find(".labelImage").animate({top:"-99%"},pc[j].durationBack,pc[j].easingBack));break;case"labelSlideUpTop":var e=c.thumbRealHeight+"px";"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:e},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({top:e},pc[j].duration,pc[j].easing));break;case"labelSlideUp":"onBottom"!=ub.thumbnailLabel.position&&("transit"==pc[j].method?jQuery(a).find(".labelImage").transition({bottom:"-99%"},pc[j].durationBack,pc[j].easingBack):jQuery(a).find(".labelImage").animate({bottom:"-99%"},pc[j].durationBack,pc[j].easingBack));break;case"descriptionSlideUp":"overImageOnBottom"==ub.thumbnailLabel.position&&(e=c.thumbRealHeight-(jQuery(a).find(".labelImage").outerHeight(!0)-jQuery(a).find(".labelImage").height())/2-Zb+"px","transit"==pc[j].method?jQuery(a).find(".labelImage").transition({top:e},pc[j].duration,pc[j].easing):jQuery(a).find(".labelImage").animate({top:e},pc[j].duration,pc[j].easing));break;case"labelOpacity50":"transit"==pc[j].method?jQuery(a).find(".labelImage").transition({opacity:wc.oldLabelOpacity},pc[j].durationBack,pc[j].easingBack):jQuery(a).find(".labelImage").animate({opacity:wc.oldLabelOpacity},pc[j].durationBack,pc[j].easingBack);break;case"imageOpacity50":"transit"==pc[j].method?jQuery(a).find(".imgContainer").transition({opacity:1},pc[j].duration,pc[j].easing):jQuery(a).find(".imgContainer").animate({opacity:1},pc[j].duration,pc[j].easing);break;case"borderLighter":case"borderDarker":"transit"==pc[j].method?jQuery(a).transition({borderColor:wc.oldBorderColor},pc[j].durationBack,pc[j].easingBack):jQuery(a).animate({borderTopColor:wc.oldBorderColor,borderRightColor:wc.oldBorderColor,borderBottomColor:wc.oldBorderColor,borderLeftColor:wc.oldBorderColor},pc[j].duration,pc[j].easing);break;case"imageScale150":case"imageScale150Outside":"transit"==pc[j].method?jQuery(a).find("img").transition({scale:1},pc[j].durationBack,pc[j].easingBack):jQuery(a).find("img").animate({scale:1},pc[j].durationBack,pc[j].easingBack);break;case"scale120":"transit"==pc[j].method?jQuery(a).transition({scale:1},pc[j].durationBack,pc[j].easingBack):jQuery(a).animate({scale:1},pc[j].durationBack,pc[j].easingBack);break;case"imageFlipHorizontal":"transit"==pc[j].method&&(b=Math.round(1.2*c.thumbRealHeight)+"px",jQuery(a).find(".imgContainer").transition({perspective:b,rotateX:"0deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({perspective:b,rotateX:"180deg"},pc[j].duration,pc[j].easing));break;case"imageFlipVertical":"transit"==pc[j].method&&(b=Math.round(1.2*c.thumbRealWidth)+"px",jQuery(a).find(".imgContainer").transition({perspective:b,rotateY:"0deg"},pc[j].duration,pc[j].easing),jQuery(a).find(".labelImage").transition({perspective:b,rotateY:"180deg"},pc[j].duration,pc[j].easing));break;case"flipHorizontal":"transit"==pc[j].method&&(b=Math.round(1.2*Yb)+"px",jQuery(a).transition({perspective:b,rotateX:"0deg"},pc[j].durationBack,pc[j].easingBack));break;case"flipVertical":"transit"==pc[j].method&&(b=Math.round(1.2*c.thumbRealWidth)+"px",jQuery(a).transition({perspective:b,rotateY:"0deg"},pc[j].durationBack,pc[j].easingBack));break;case"TEST":jQuery(a).find(".subcontainer").transition({scale:.85},150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(f){nb("error on hoverOut "+f.message)}}}}function Y(a){if("fancybox"==ub.viewer){var b=[],c=0;b[c]={},b[c].href=Qb[a].responsiveURL(),b[c].title=Qb[a].title;for(var d=Qb.length,e=a+1;d>e;e++)"image"==Qb[e].kind&&Qb[e].albumID==Qb[a].albumID&&""==Qb[e].destinationURL&&(c++,b[c]={},b[c].href=Qb[e].responsiveURL(),b[c].title=Qb[e].title);for(e=0;a>e;e++)"image"==Qb[e].kind&&Qb[e].albumID==Qb[a].albumID&&""==Qb[e].destinationURL&&(c++,b[c]={},b[c].href=Qb[e].responsiveURL(),b[c].title=Qb[e].title);jQuery.fancybox(b,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else Mb?eb(a,""):Z(a)}function Z(a){ub.viewerScrollBarHidden&&jQuery("body").css("overflow","hidden"),Hb=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),Hb.addClass("nanogallery_theme_"+ub.theme),mb(Hb),Ib=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(Hb);var b;if(b='<img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL"><img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',b+='<img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',Ob=jQuery('<div class="content">'+b+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(Ib),Jb=Ib.find(".image").eq(0),Lb=Ib.find(".image").eq(1),Kb=Ib.find(".image").eq(2),Nb=jQuery('<div class="closeButtonFloating"></div>').appendTo(Ib),b="",gc&&(b='<div class="setFullscreenButton fullscreenButton"></div>'),Pb=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton"></div><div class="pageCounter"></div><div class="nextButton"></div><div class="playButton playPauseButton"></div>'+b+'<div class="closeButton"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(Ib),ub.viewerDisplayLogo&&jQuery('<div class="nanoLogo"></div>').appendTo(Ib),sb("",Ib),kb(Lb),"undefined"!=typeof Hammer){var c=0;Hammer(document.getElementById("nanoGalleryViewer"),{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(a){if(!sc)switch(a.type){case"drag":a.stopPropagation(),c=a.gesture.deltaX,Ob.find(".imgCurrent").css(25>Math.abs(c)?{left:0}:{left:c});break;case"release":a.gesture.stopPropagation(),a.stopPropagation(),(25>Math.abs(c)||100>(new Date).getTime()-lc)&&Ob.find(".imgCurrent").css({left:0}),-25>Math.round(c)&&bb(),25<Math.round(c)&&db(),c=0}})}lc=(new Date).getTime(),Nb.on("click",function(a){a.stopPropagation(),400>(new Date).getTime()-lc||jb(!0)}),Pb.find(".closeButton").on("click",function(a){a.stopPropagation(),400>(new Date).getTime()-lc||jb(!0)}),Ob.find("img").on("click",function(){}),Pb.find(".playPauseButton").on("click",function(a){a.stopPropagation(),ab()}),Pb.find(".fullscreenButton").on("click",function(a){a.stopPropagation(),_()}),Pb.find(".nextButton").on("click",function(a){a.stopPropagation(),bb()}),Pb.find(".previousButton").on("click",function(a){a.stopPropagation(),db()}),Ob.find(".contentAreaNext").on("click",function(a){a.stopPropagation(),bb()}),Ob.find(".contentAreaPrevious").on("click",function(a){a.stopPropagation(),db()}),Ob.on("click",function(a){400>(new Date).getTime()-lc||(a.stopPropagation(),jb(!0))}),eb(a,"")}function $(a){function b(a){var b={};return a.targetTouches?(b.x=a.targetTouches[0].clientX,b.y=a.targetTouches[0].clientY):(b.x=a.clientX,b.y=a.clientY),b}function d(){if(g){var a=h.x-i.x;c(Ob.find(".imgCurrent")[0],j-a),g=!1}}function e(a){window.navigator.msPointerEnabled?f.removeEventListener("MSPointerDown",a.handleGestureStart,!0):(f.removeEventListener("touchstart",a.handleGestureStart,!0),f.removeEventListener("mousedown",a.handleGestureStart,!0))}var f=a,g=!1,h=null,i=null,j=0;this.handleGestureStart=function(a){Mb&&(a.preventDefault(),a.touches&&1<a.touches.length||(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),h=b(a)))}.bind(this),this.handleGestureMove=function(a){a.preventDefault(),i=b(a),g||(g=!0,window.requestAnimFrame(d))}.bind(this),this.handleGestureEnd=function(a){a.preventDefault(),a.touches&&0<a.touches.length||(g=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==i?(j=0,h=null):(a=h.x-i.x,j-=a,-50>a&&(e(this),db()),a>50&&(e(this),bb()),j=0,i=h=null,50>Math.abs(a)&&c(Ob.find(".imgCurrent")[0],j)))}.bind(this),window.navigator.msPointerEnabled?f.addEventListener("MSPointerDown",this.handleGestureStart,!0):(f.addEventListener("touchstart",this.handleGestureStart,!0),f.addEventListener("mousedown",this.handleGestureStart,!0))}function _(){hc?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),hc=!1,Pb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(Hb[0].requestFullscreen?Hb[0].requestFullscreen():Hb[0].webkitRequestFullscreen?Hb[0].webkitRequestFullscreen():Hb[0].msRequestFullscreen?Hb[0].msRequestFullscreen():Hb[0].mozRequestFullScreen&&Hb[0].mozRequestFullScreen(),hc=!0,Pb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}function ab(){bc?(window.clearInterval(cc),bc=!1,Pb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(bc=!0,Pb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),cb(),cc=window.setInterval(function(){cb()},dc))}function bb(){bc&&(window.clearInterval(cc),cc=window.setInterval(function(){cb()},dc)),cb()}function cb(){if(!(sc||300>(new Date).getTime()-lc)){var a=gb(uc);eb(a,"nextImage")}}function db(){if(!(sc||300>(new Date).getTime()-lc)){bc&&ab();var a=hb(uc);eb(a,"previousImage")}}function eb(a,b){if(lc=(new Date).getTime(),sc=!0,ub.locationHash){var c="nanogallery/"+wb+"/"+Qb[a].albumID+"/"+Qb[a].GetID();"#"+c!=location.hash?(rc="#"+c,top.location.hash=c):rc=top.location.hash}ib(a),kb(Lb),uc=a,c="-"+1*jQuery(window).width()+"px",c=!0,"fade"==ub.imageTransition&&(c=!1);var d="";switch(b){case"nextImage":c?(c="-"+1*jQuery(window).width()+"px",d={left:c,opacity:0}):d={opacity:0},Ob.find("*").stop(!0,!0),Kb.css({opacity:0,left:"0",visibility:"visible"}),jQuery.when(Lb.animate(d,500),Kb.animate({opacity:1},300)).done(function(){fb(a,b)});break;case"previousImage":c?(c=1*jQuery(window).width()+"px",d={left:c,opacity:0}):d={opacity:0},Ob.find("*").stop(!0,!0),Jb.css({opacity:0,left:"0",visibility:"visible"}),jQuery.when(Lb.animate(d,500),Jb.animate({opacity:1},300)).done(function(){fb(a,b)});break;default:Ob.find("*").stop(!0,!0),Lb.css({opacity:0,left:"0",visibility:"visible"}).attr("src",Qb[a].responsiveURL()),jQuery.when(Lb.animate({opacity:1},300)).done(function(){fb(a,b)})}Mb=!0}function fb(a,b){Lb.off("click"),Lb.removeClass("imgCurrent");var c=Lb;switch(b){case"nextImage":Lb=Kb,Kb=c;break;case"previousImage":Lb=Jb,Jb=c}Lb.addClass("imgCurrent"),"undefined"==typeof Hammer&&new $(Lb[0]),Kb.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",Qb[gb(a)].responsiveURL()),Jb.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",Qb[hb(a)].responsiveURL()),Lb.on("click",function(a){a.stopPropagation(),a.pageX<jQuery(window).width()/2?db():bb()}),kb(Lb),sc=!1}function gb(a){for(var b=Qb.length,c=-1,d=a+1;b>d;d++)if(Qb[d].albumID==Qb[a].albumID&&"image"==Qb[d].kind){c=d;break}if(-1==c)for(d=0;a>=d;d++)if(Qb[d].albumID==Qb[a].albumID&&"image"==Qb[d].kind){c=d;break}return c}function hb(a){for(var b=-1,c=a-1;c>=0;c--)if(Qb[c].albumID==Qb[a].albumID&&"image"==Qb[c].kind){b=c;break}if(-1==b)for(c=Qb.length-1;c>=a;c--)if(Qb[c].albumID==Qb[a].albumID&&"image"==Qb[c].kind){b=c;break}return b}function ib(a){Pb.find(".title").html(void 0!==Qb[a].title?Qb[a].title:""),Pb.find(".description").html(void 0!==Qb[a].description?Qb[a].description:"");for(var b=0,c=Qb.length,d=0;c>d;d++)Qb[d].albumID==Qb[a].albumID&&"image"==Qb[d].kind&&b++;b>0&&Pb.find(".pageCounter").html(Qb[a].imageNumber+1+"/"+b)}function jb(a){sc&&Ob.find("*").stop(!0,!0),Mb&&(window.clearInterval(tc),bc&&(window.clearInterval(cc),bc=!1),hc&&_(),Mb=!1,Hb.off().remove(),ub.viewerScrollBarHidden&&jQuery("body").css("overflow","inherit"),-1!=vc?w(vc,!0):(ub.locationHash&&a&&(a="nanogallery/"+wb+"/"+Qb[uc].albumID,rc="#"+a,top.location.hash=a),V()))}function kb(a){window.clearInterval(tc),tc=window.setInterval(function(){kb(Lb)},500);var b=jQuery(window).width(),c=jQuery(window).height();Ib.css({visibility:"visible",position:"fixed"}),Pb.css(40>=Lb.height()?{visibility:"hidden"}:{visibility:"visible"});var d=Math.abs(Ob.outerHeight(!0)-Ob.height()),e=Math.abs(Ob.outerWidth(!0)-Ob.width()),f=a.outerHeight(!1)-a.innerHeight(),g=Math.abs(a.outerWidth(!1)-a.innerWidth()),h=Math.abs(a.innerHeight()-a.height());switch(a=Math.abs(a.innerHeight()-a.height()),f+=h,g+=a,h=0,"innerImage"!=ub.viewerToolbar.style&&(h=Pb.find(".toolbar").outerHeight(!0)),c=c-h-d,b-=e,ub.viewerToolbar.position){case"top":Ob.css({height:c,width:b,top:h}),e=0,"innerImage"==ub.viewerToolbar.style&&(e=Math.abs(Lb.outerHeight(!0)-Lb.height())/2+5),"stuckImage"==ub.viewerToolbar.style&&(e=Math.abs(Lb.outerHeight(!0)-Lb.height())/2-f),Pb.css({top:e});break;default:Ob.css({height:c,width:b}),e=0,"innerImage"==ub.viewerToolbar.style&&(e=Math.abs(Lb.outerHeight(!0)-Lb.height())/2+5),"stuckImage"==ub.viewerToolbar.style&&(e=Math.abs(Lb.outerHeight(!0)-Lb.height())/2-f),Pb.css({bottom:e})}"innerImage"==ub.viewerToolbar.style&&Pb.find(".toolbar").css({"max-width":Lb.width()}),"fullWidth"==ub.viewerToolbar.style&&Pb.find(".toolbar").css({width:b}),Pb.css({height:Pb.find(".toolbar").outerHeight(!0)}),Ob.children("img").css({"max-width":b-f,"max-height":c-g})}function lb(a){var b=null;switch(Rc(ub.colorScheme)){case"object":b=Dc,jQuery.extend(!0,b,ub.colorScheme),g_colorSchemeLabel="nanogallery_colorscheme_custom_"+wb;break;case"string":switch(ub.colorScheme){case"none":return;case"light":b=Ic,g_colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":b=Jc,g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":b=Ec,g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":b=Fc,g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":b=Gc,g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":b=Hc,g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:b=Dc,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void nb("Error in colorScheme parameter.")}var c="."+g_colorSchemeLabel+" ",d=c+".nanoGalleryNavigationbar { background:"+b.navigationbar.background+"; }\n";void 0!==b.navigationbar.border&&(d+=c+".nanoGalleryNavigationbar { border:"+b.navigationbar.border+" !important; }\n"),void 0!==b.navigationbar.borderTop&&(d+=c+".nanoGalleryNavigationbar { border-top:"+b.navigationbar.borderTop+" !important; }\n"),void 0!==b.navigationbar.borderBottom&&(d+=c+".nanoGalleryNavigationbar { border-bottom:"+b.navigationbar.borderBottom+" !important; }\n"),void 0!==b.navigationbar.borderRight&&(d+=c+".nanoGalleryNavigationbar { border-right:"+b.navigationbar.borderRight+" !important; }\n"),void 0!==b.navigationbar.borderLeft&&(d+=c+".nanoGalleryNavigationbar { border-left:"+b.navigationbar.borderLeft+" !important; }\n"),d+=c+".nanoGalleryNavigationbar .oneFolder  { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .separator  { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+b.navigationbar.color+" !important; }\n",d+=c+".nanoGalleryNavigationbar .oneFolder:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .separator:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+b.navigationbar.colorHover+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+b.thumbnail.background+" !important; border:"+b.thumbnail.border+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+b.thumbnail.background+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+b.thumbnail.labelBackground+"; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n",d+=c+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+b.thumbnail.descriptionColor+" !important; Text-Shadow:"+b.thumbnail.descriptionShadow+" !important; }\n",jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass(g_colorSchemeLabel)}function mb(a){var b=null;switch(Rc(ub.colorSchemeViewer)){case"object":b=Kc,jQuery.extend(!0,b,ub.colorSchemeViewer),g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(ub.colorSchemeViewer){case"none":return;case"light":b=Pc,g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":b=Lc,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":b=Mc,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":b=Nc,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":b=Oc,g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;default:b=Kc,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void nb("Error in colorSchemeViewer parameter.")}var c="."+g_colorSchemeLabel+" ",d=c+".nanoGalleryViewer { background:"+b.background+" !important; }\n",d=d+(c+".nanoGalleryViewer .content img { border:"+b.imageBorder+" !important; box-shadow:"+b.imageBoxShadow+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar { background:"+b.barBackground+" !important; border:"+b.barBorder+" !important; color:"+b.barColor+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar .previousButton:after { color:"+b.barColor+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar .nextButton:after { color:"+b.barColor+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar .closeButton:after { color:"+b.barColor+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar .label .title { color:"+b.barColor+" !important; }\n"),d=d+(c+".nanoGalleryViewer .toolbar .label .description { color:"+b.barDescriptionColor+" !important; }\n");jQuery("head").append("<style>"+d+"</style>"),jQuery(a).addClass(g_colorSchemeLabel)}function nb(a){yb.css({visibility:"visible",height:"60px"}),yb.append("<p>nanoGALLERY: "+a+" ["+wb+"]</p>"),ob(a)}function ob(a){window.console&&void 0}function pb(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function qb(a,b){var c=pb(),d=jQuery(a).offset(),e=jQuery(a).outerHeight(!0),f=jQuery(a).outerWidth(!0);return d.top>=c.t-b&&d.top+e<=c.t+c.h+b&&d.left>=c.l-b&&d.left+f<=c.l+c.w+b?!0:!1}function rb(a,b){var c=pb(),d=jQuery(a).offset(),e=jQuery(a).outerHeight(!0);return jQuery(a).outerWidth(!0),0==c.t&&d.top<=c.t+c.h?!0:d.top>=c.t&&d.top+e<=c.t+c.h-b?!0:!1}function sb(a,b){var c=0;""==a&&(a="*"),jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c}),c++,jQuery(b).css("z-index",c)}function tb(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}var ub=null,vb=null,wb=null,xb=null,yb=null,zb=null,Ab=null,Bb=null,Cb=null,Db=null,Eb=null,Fb=null,Gb=!1,Hb=null,Ib=null,Jb=null,Kb=null,Lb=null,Mb=!1,Nb=null,Ob=null,Pb=null,Qb=[],Rb=0,Sb=0,Tb=0,Ub=0,Vb=0,Wb=0,Xb=0,Yb=0,Zb=0,$b=null,_b=null,ac=null,bc=!1,cc=0,dc=3e3,ec=30,fc=100,gc=!1,hc=!1,ic=!1,jc="",kc={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},lc=0,mc=1,nc=0,oc=0,pc=[],qc=-1,rc="",sc=!1,tc=-1,uc=-1,vc=-1,wc={},xc=1,yc=-1,zc=!1,Ac={url:function(){return"https:"==location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 ",thumbSizeHack:!0},Bc={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbAvailableSizes:[75,100,150,240,500,640],thumbAvailableSizesStr:"sq t q s m z".split(" "),photoSize:"sq",photoAvailableSizes:[75,100,150,240,500,640,1024,1024,1600,2048],photoAvailableSizesStr:"sq t q s m z b l h k".split(" "),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},Cc={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:[100,150,400,600,800,1024,1280,1600],photoAvailableSizesStr:"TinyURL ThumbURL SmallURL MediumURL LargeURL XLargeURL X2LargeURL X3LargeURL".split(" "),thumbSize:0,photoSize:0},Dc={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Ec={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Fc={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Gc={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Hc={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},Ic={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},Jc={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Kc={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Lc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Mc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Nc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Oc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Pc={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Qc=function(){function a(a,c){var d=0,d=void 0===c||null===c?b++:c;this.GetID=function(){return d},this.title=a,this.thumbsrc="",this.thumbRealHeight=this.thumbRealWidth=this.thumbHeight=this.thumbWidth=0,this.src="",this.height=this.width=0,this.author=this.kind=this.destinationURL=this.description="",this.hovered=!1,this.$elt=null,this.contentIsLoaded=!1,this.paginationLastWidth=this.paginationLastPage=this.albumID=this.imageNumber=this.contentLength=0,this.customVars={}}var b=1;return a.get_nextId=function(){return b},a.prototype={responsiveURL:function(){var a="";switch(ub.kind){case"":a=this.src;break;case"flickr":a=this.src;break;case"smugmug":a=this.src;break;default:a=this.src}return a}},a}();this.Initiate=function(c,d){if(ub=d,vb=c,wb=jQuery(c).attr("id"),jQuery.support.transition&&(ic=!0),jQuery(c).addClass("nanogallery_theme_"+ub.theme),lb(c),ub.thumbnailLabel.hideIcons){var g=".nanogallery_thumbnails_icons_off ",g=g+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n"+(g+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n");jQuery("head").append("<style>"+g+"</style>"),jQuery(c).addClass("nanogallery_thumbnails_icons_off")}ub.galleryToolbarHideIcons&&(g=".nanogallery_breadcrumb_icons_off ",g=g+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n"+(g+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n"),jQuery("head").append("<style>"+g+"</style>"),jQuery(c).addClass("nanogallery_breadcrumb_icons_off")),"right"==ub.thumbnailLabel.align&&(g=".nanogallery_thumbnails_label_align_right .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n",jQuery("head").append("<style>"+g+"</style>"),jQuery(c).addClass("nanogallery_thumbnails_label_align_right")),"center"==ub.thumbnailLabel.align&&(g=".nanogallery_thumbnails_label_align_center .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n",jQuery("head").append("<style>"+g+"</style>"),jQuery(c).addClass("nanogallery_thumbnails_label_align_center")),"left"==ub.thumbnailLabel.align&&(g=".nanogallery_thumbnails_label_align_left .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n",jQuery("head").append("<style>"+g+"</style>"),jQuery(c).addClass("nanogallery_thumbnails_label_align_left")),e(),Fb=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(c),Fb.hide(),Eb=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(Fb),Cb=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(Eb),xb=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(c),zb=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(xb),yb=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(c),g=jQuery('<div class="nanogalleryHideElement '+jQuery(c).attr("class")+'"></div>').appendTo("body"),g=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(g),Ab=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(g),(nc>0||oc>0)&&(Bb=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(xb),b()),f(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?gc=!0:ob("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),h(),"loadData"!=ub.lazyBuild&&a();
var i=0;jQuery(window).resize(function(){i&&clearTimeout(i),Mb?kb(Lb):i=setTimeout(function(){E(),I()},50)});var j=0;jQuery(window).on("scroll",function(){j&&clearTimeout(j),j=setTimeout(function(){"loadData"==ub.lazyBuild&&rb(xb,ub.lazyBuildTreshold)&&(ub.lazyBuild="none",a()),-1!=yc&&rb(xb,ub.lazyBuildTreshold)&&x(yc,zc),I()},200)})},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var Rc=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},Sc=function(a,b,c){a=a.replace(/^\s*|\s*$/,""),a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3"),b=Math.round(256*b)*(c?-1:1);var d=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),e=d&&null!=d[4]?d[4]:null;return a=d?[d[1],d[2],d[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/),d?"rgb"+(null!==e?"a":"")+"("+Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255)+(null!==e?", "+e:"")+")":["#",Tc(Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255).toString(16),2),Tc(Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255).toString(16),2),Tc(Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255).toString(16),2)].join("")},Tc=function(a,b){for(a+="";a.length<b;)a="0"+a;return a}}!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):a.classie=g}(window),function(a){"use strict";function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,c){this.button=a,this.options=b({},this.options),b(this.options,c),this._init()}Modernizr.addTest("csstransformspreserve3d",function(){var b,c=Modernizr.prefixed("transformStyle"),d="preserve-3d";return c?(c=c.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+c+":"+d+";}",function(d){b=a.getComputedStyle?getComputedStyle(d,null).getPropertyValue(c):""}),b===d):!1});var d={transitions:Modernizr.csstransitions,transforms3d:Modernizr.csstransforms3d&&Modernizr.csstransformspreserve3d},e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f=e[Modernizr.prefixed("transition")];c.prototype.options={statusTime:1500},c.prototype._init=function(){this._validate(),this._create(),this._initEvents()},c.prototype._validate=function(){null===this.button.getAttribute("data-style")&&this.button.setAttribute("data-style","fill"),null===this.button.getAttribute("data-vertical")&&null===this.button.getAttribute("data-horizontal")&&this.button.setAttribute("data-horizontal",""),d.transforms3d||null===this.button.getAttribute("data-perspective")||(this.button.removeAttribute("data-perspective"),this.button.setAttribute("data-style","fill"),this.button.removeAttribute("data-vertical"),this.button.setAttribute("data-horizontal",""))},c.prototype._create=function(){var a=document.createElement("span");a.className="content",a.innerHTML=this.button.innerHTML;var b=document.createElement("span");b.className="progress";var c=document.createElement("span");if(c.className="progress-inner",b.appendChild(c),this.button.innerHTML="",null!==this.button.getAttribute("data-perspective")){var d=document.createElement("span");d.className="progress-wrap",d.appendChild(a),d.appendChild(b),this.button.appendChild(d)}else this.button.appendChild(a),this.button.appendChild(b);this.progress=c,null!==this.button.getAttribute("data-horizontal")?this.progressProp="width":null!==this.button.getAttribute("data-vertical")&&(this.progressProp="height"),this._enable()},c.prototype._setProgress=function(a){this.progress.style[this.progressProp]=100*a+"%"},c.prototype._initEvents=function(){var a=this;this.button.addEventListener("click",function(){a.button.setAttribute("disabled",""),classie.remove(a.progress,"notransition"),classie.add(this,"state-loading"),setTimeout(function(){if("function"==typeof a.options.callback)a.options.callback(a);else{a._setProgress(1);var b=function(c){d.transitions&&c.propertyName!==a.progressProp||(this.removeEventListener(f,b),a._stop())};d.transitions?a.progress.addEventListener(f,b):b.call()}},"fill"===a.button.getAttribute("data-style")||"top-line"===a.button.getAttribute("data-style")||"lateral-lines"===a.button.getAttribute("data-style")?0:200)})},c.prototype._stop=function(a){var b=this;setTimeout(function(){b.progress.style.opacity=0;var c=function(a){d.transitions&&"opacity"!==a.propertyName||(this.removeEventListener(f,c),classie.add(b.progress,"notransition"),b.progress.style[b.progressProp]="0%",b.progress.style.opacity=1)};if(d.transitions?b.progress.addEventListener(f,c):c.call(),"number"==typeof a){var e=a>=0?"state-success":"state-error";classie.add(b.button,e),setTimeout(function(){classie.remove(b.button,e),b._enable()},b.options.statusTime)}else b._enable();classie.remove(b.button,"state-loading")},100)},c.prototype._enable=function(){this.button.removeAttribute("disabled")},a.ProgressButton=c}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("eventEmitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(this,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=void 0!==k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var d=c.querySelectorAll("img"),e=0,f=d.length;f>e;e++){var g=d[e];this.addImage(g)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g}),function(a){function b(a){if(a in l.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in l.style)return a;for(var d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):c()}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return a.fx.speeds[c]&&(c=a.fx.speeds[c]),j(c,"ms")}a.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.transform3d=c();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0;"function"==typeof c&&(f=c,c=void 0),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof b.easing&&(d=b.easing,delete b.easing),"undefined"!=typeof b.duration&&(c=b.duration,delete b.duration),"undefined"!=typeof b.complete&&(f=b.complete,delete b.complete),"undefined"!=typeof b.queue&&(j=b.queue,delete b.queue),"undefined"!=typeof b.delay&&(i=b.delay,delete b.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var l=g(b,c,d,i),n=a.transit.enabled&&m.transition,o=n?parseInt(c,10)+parseInt(i,10):0;if(0===o){var q=function(a){h.css(b),f&&f.apply(h),a&&a()};return e(h,j,q),h}var r={},s=function(c){var d=!1,e=function(){d&&h.unbind(p,e),o>0&&h.each(function(){this.style[m.transition]=r[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof c&&c()};o>0&&p&&a.transit.useTransitionEnd?(d=!0,h.bind(p,e)):window.setTimeout(e,o),h.each(function(){o>0&&(this.style[m.transition]=l),a(this).css(b)})},t=function(a){this.offsetWidth,s(a)};return e(h,j,t),this},a.transit.getTransitionValue=g}(jQuery),function(a){jQuery.fn.nanoGallery=function(b){var c=a.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,viewerScrollBarHidden:!0,imageTransition:"default",viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3e3,photoSorting:"",albumSorting:"",lazyBuild:"none",lazyBuildTreshold:150,flickrSkipOriginal:!0,i18n:{breadcrumbHome:"List of Albums",breadcrumbHome_FR:"Liste des Albums",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"| ",thumbnailLabelItemsCountPart2:" photos",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},b);return this.each(function(){(new nanoGALLERY).Initiate(this,c)})}}(jQuery),function(a,b){function c(a,b,c){var d=k[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=i(),d=c._rgba=[];return b=b.toLowerCase(),n(h,function(a,e){var f,g=e.re.exec(b);return f=g&&e.parse(g),g=e.space||"rgba",f?(f=c[g](f),c[j[g].cache]=f[j[g].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=a("<p>")[0],n=a.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=-1<m.style.backgroundColor.indexOf("rgba"),n(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=a.extend(i.prototype,{parse:function(e,g,h,k){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),o=this._rgba=[];return g!==b&&(e=[e,g,h,k],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(n(j.rgba.props,function(a,b){o[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof i?n(j,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):n(j,function(b,d){var f=d.cache;n(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&0>a.inArray(null,l[f].slice(0,3))&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=i(a),c=!0,d=this;return n(j,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],n(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return n(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=i(a),e=d._space(),f=j[e],g=0===this.alpha()?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice(),d=d[f.cache];return n(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};null!==i&&(null===g?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=c((i-g)*b+g,e)))}),this[e](l)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=i(b)._rgba;return i(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255;a=a[3];var e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f,h=e+f,i=.5*h,h=0===g?0:.5>=i?g/h:g/(2-h);return[Math.round(f===e?0:b===e?60*(c-d)/g+360:c===e?60*(d-b)/g+120:60*(b-c)/g+240)%360,h,i,null==a?1:a]},j.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2];return a=a[3],c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,[Math.round(255*e(d,c,b+1/3)),Math.round(255*e(d,c,b)),Math.round(255*e(d,c,b-1/3)),a]},n(j,function(d,e){var f=e.props,h=e.cache,j=e.to,k=e.from;i.fn[d]=function(d){if(j&&!this[h]&&(this[h]=j(this._rgba)),d===b)return this[h].slice();var e,g=a.type(d),l="array"===g||"object"===g?d:arguments,m=this[h].slice();return n(f,function(a,b){var d=l["object"===g?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=i(k(m)),e[h]=m,e):i(m)},n(f,function(b,c){i.fn[b]||(i.fn[b]=function(e){var f=a.type(e),h="alpha"===b?this._hsla?"hsla":"rgba":d,i=this[h](),j=i[c.idx];return"undefined"===f?j:("function"===f&&(e=e.call(this,j),f=a.type(e)),null==e&&c.empty?this:("string"===f&&(f=g.exec(e))&&(e=j+parseFloat(f[2])*("+"===f[1]?1:-1)),i[c.idx]=e,this[h](i)))})})}),i.hook=function(b){b=b.split(" "),n(b,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=i(f||e),!l.rgba&&1!==e._rgba[3]){for(f="backgroundColor"===c?b.parentNode:b;(""===g||"transparent"===g)&&f&&f.style;)try{g=a.css(f,"backgroundColor"),f=f.parentNode}catch(h){}e=e.blend(g&&"transparent"!==g?g:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(j){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=i(b.elem,c),b.end=i(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),a.cssHooks.borderColor={expand:function(a){var b={};return n(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);
//# sourceMappingURL=plugins.min.js.map